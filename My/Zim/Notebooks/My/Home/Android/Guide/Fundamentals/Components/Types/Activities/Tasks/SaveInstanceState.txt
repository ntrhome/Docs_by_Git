Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2019-07-08T10:36:55+03:00

====== SaveInstanceState ======
Created понеділок 08 липень 2019


[[https://developer.android.com/guide/components/tasks-and-back-stack.html#ActivityState|Сохранение состояния активити]]

Как говорилось, система по умолчанию сохраняет состояние активити, когда она останавливается - при запуске новой активити, при переключении на другую задачу (но не уничтожается - __Му - проверить вызывается ли остановка при уничтожении__). При возврате к текущей активити (закрыта следующая активити, возврат фокуса на приложение) - состояние восстанавливается.

Однако когда система останавливает одну из ваших оактивити (например, когда запускается новая операция или задача перемещается в фоновый режим), система может полностью уничтожить эту активити, если ей необходимо восстановить память системы. Когда такое происходит, информация о состоянии активити теряется. Тогда активити будет построено заново (поскольку в вершине стека сейчас находятся данные для ее запуска), но ее состаяние восстановлено не будет. 
Поэтому вы можете - **и должны** - с упреждением сохранять состояние ваших активити посредством методов обратного вызова на случай уничтожения операции и необходимости ее повторного создания. такое сохранение с упреждением реализуется с помощью методов обратного вызова [[https://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)|onSaveInstanceState()]] в вашей активити.


